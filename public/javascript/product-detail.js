document.addEventListener('DOMContentLoaded',function(){const products=[{name:'Ikat Jasmine',brand:'Aerin',quality:'Eau de Parfum - Floral Woody',price:135.00,img:'images/4.jpg',description:'Ikat Jasmine by AERIN is a crisp floral perfume, specifically a jasmine fragrance, known for its fresh and lively character. It\'s designed to embody the modern woman with effortless style and intriguing femininity. The fragrance features notes of jasmine, tuberose, and sandalwood, creating a luminous and soft, yet deep scent.'},{name:'Iqbal',brand:'Scents N Stories',quality:'Eau de Parfum - Bold & Spicy',price:55.00,img:'images/3.webp',description:'Iqbal perfume, by Scents N Stories, is an oriental woody fragrance designed as a tribute to the legacy of Allama Iqbal. It is a unisex scent, suitable for various occasions, particularly in fall, winter, and evenings. The fragrance features a blend of citrus, spicy, and woody notes, with a dry-down of leather and musk'},{name:'Awadi',brand:'Edenrobe',quality:'Eau de Parfum - Oriental Oud',price:48.00,img:'images/2.webp',description:'Awadi is a men\'s fragrance by edenrobe, known for its vibrant and natural scent profile. It is described as an ode to serenity and fidelity, embodying a man of depth and assurance. The fragrance features a combination of saffron and coriander in the top notes, leather in the heart notes, and amber and incense in the base notes, creating a sophisticated and memorable olfactory experience.'},{name:'The Grandmaster',brand:'Perfumes Hub',quality:'Parfum Top - Aromatic & Fresh',price:65.00,img:'images/1.webp',description:'Grand Master was launched in 2022. The nose behind this fragrance is Alexandra Carlin. Top notes are Rose Water, Black Currant and Peony; middle notes are May Rose, Coffee and Violet; base notes are Incense, Myrrh, Ebony and Panettone.'},{name:'Nashwa',brand:'Luxury Perfume',quality:'Eau de Parfum - Oriental Floral',price:150.00,img:'images/per 1.webp',description:'Nashwa perfume, particularly the Arabiyat Prestige version, is a unisex fragrance known for its bright, citrusy, and woody notes with a strong grapefruit opening. It\'s described as radiant and uplifting, a mood changer with a blend of citrus, ginger, and earthy patchouli, grounded by amber and musk. The fragrance is designed to be long-lasting and memorable, leaving a charming aroma.'},{name:'Signature',brand:'Chanel',quality:'Eau de Parfum - Aromatic-Woody',price:160.00,img:'images/per6.jpg',description:'A signature perfume is a fragrance that a person identifies with and wears regularly, becoming a part of their personal identity. It\'s a scent that evokes a sense of familiarity and comfort, often chosen to complement one\'s personality and create a lasting impression.'}];const detailPageTitle=document.getElementById('detailPageTitle');const detailImage=document.getElementById('detailImage');const detailName=document.getElementById('detailName');const detailBrand=document.getElementById('detailBrand');const detailQuality=document.getElementById('detailQuality');const detailPrice=document.getElementById('detailPrice');const detailDescription=document.getElementById('detailDescription');const detailAddToCartBtn=document.getElementById('detailAddToCartBtn');const productNotFound=document.getElementById('productNotFound');const urlParams=new URLSearchParams(window.location.search);const productName=urlParams.get('name');console.log('1. Page Loaded. Full URL:',window.location.href);console.log('2. URL search string:',window.location.search);console.log('3. Extracted productName from URL:',productName);let currentProduct=null;let cart=[];function updateCartCount(){const cartCountSpan=document.getElementById('cart-count');if(cartCountSpan){cartCountSpan.textContent=cart.length}}
if(productName){currentProduct=products.find(p=>p.name===productName);console.log('4. Result of products.find():',currentProduct);if(currentProduct){console.log('5. Product found, attempting to populate details.');detailPageTitle.textContent=`${currentProduct.name} - HÃ¼nny Brand`;detailImage.src=currentProduct.img;detailImage.alt=currentProduct.name;detailName.textContent=currentProduct.name;detailBrand.textContent=`by ${currentProduct.brand}`;detailQuality.textContent=currentProduct.quality;detailPrice.textContent=`$${currentProduct.price.toFixed(2)}`;detailDescription.textContent=currentProduct.description||'No description available.'}else{console.warn('Product not found in array for name:',productName);productNotFound.style.display='block';document.querySelector('#product-detail .detail-card').style.display='none'}}else{console.warn('No product name found in URL. Displaying "Product not found".');productNotFound.style.display='block';document.querySelector('#product-detail .detail-card').style.display='none'}
detailAddToCartBtn.addEventListener('click',()=>{if(currentProduct){const productToAdd=currentProduct;const existingItem=cart.find(item=>item.name===productToAdd.name);if(existingItem){alert(`${productToAdd.name} is already in your cart!`)}else{cart.push(productToAdd);updateCartCount();alert(`${productToAdd.name} added to cart!`)}
console.log('Current Cart on Detail Page:',cart)}});const hamburger=document.querySelector('.hamburger');const navLinks=document.querySelector('.nav-links');if(hamburger&&navLinks){hamburger.addEventListener('click',()=>{navLinks.classList.toggle('active');hamburger.querySelector('i').classList.toggle('fa-bars');hamburger.querySelector('i').classList.toggle('fa-times')});document.querySelectorAll('.nav-links a').forEach(link=>{link.addEventListener('click',()=>{if(navLinks.classList.contains('active')){navLinks.classList.remove('active');hamburger.querySelector('i').classList.add('fa-bars');hamburger.querySelector('i').classList.remove('fa-times')}})})}
const searchBarForm=document.querySelector('.search-bar');const searchInput=document.querySelector('.search-bar input');if(searchBarForm&&searchInput){searchBarForm.addEventListener('submit',function(e){e.preventDefault();const query=searchInput.value;window.location.href=`index.html#collection?search=${encodeURIComponent(query)}`})}
updateCartCount()});document.addEventListener('DOMContentLoaded',function(){const detailAddToCartBtn=document.getElementById('detailAddToCartBtn');const detailOrderNowBtn=document.getElementById('detailOrderNowBtn');if(detailOrderNowBtn){detailOrderNowBtn.addEventListener('click',()=>{if(currentProduct){console.log('Order Now clicked from detail page for:',currentProduct);openOrderForm(currentProduct)}})}});document.addEventListener('DOMContentLoaded',function(){const detailOrderNowBtn=document.getElementById('detailOrderNowBtn');const orderFormModal=document.getElementById('orderFormModal');const closeOrderFormBtn=document.querySelector('.close-order-form');const orderForm=document.getElementById('orderForm');const orderProductName=document.getElementById('orderProductName');const orderProductImage=document.getElementById('orderProductImage');const orderProductBrand=document.getElementById('orderProductBrand');const orderProductQuality=document.getElementById('orderProductQuality');const orderProductPrice=document.getElementById('orderProductPrice');function openOrderForm(product){orderProductName.textContent=product.name;orderProductImage.src=product.img;orderProductImage.alt=product.name;orderProductBrand.textContent=`by ${product.brand}`;orderProductQuality.textContent=product.quality;orderProductPrice.textContent=`$${product.price.toFixed(2)}`;orderFormModal.classList.remove('hidden')}
if(closeOrderFormBtn){closeOrderFormBtn.addEventListener('click',()=>{orderFormModal.classList.add('hidden');orderForm.reset()})}
if(orderFormModal){window.addEventListener('click',e=>{if(e.target===orderFormModal){orderFormModal.classList.add('hidden');orderForm.reset()}})}
if(orderForm){orderForm.addEventListener('submit',async function(e){e.preventDefault();if(!currentProduct){alert('No product selected for order. Please select a product first.');return}
const customerName=document.getElementById('customerName').value;const customerPhone=document.getElementById('customerPhone').value;const customerAddress=document.getElementById('customerAddress').value;const customerEmail=document.getElementById('customerEmail').value;if(!customerName||!customerPhone||!customerAddress){alert('Please fill in all required customer details (Name, Phone, Address).');return}
const orderDetails={product:currentProduct.name,brand:currentProduct.brand,price:currentProduct.price,customer:{name:customerName,phone:customerPhone,address:customerAddress,email:customerEmail||'N/A'},timestamp:new Date().toISOString()};console.log('Order Details to be sent:',orderDetails);const orderBackendEndpoint='YOUR_ORDER_PROCESSING_BACKEND_ENDPOINT_HERE';try{const response=await fetch(orderBackendEndpoint,{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify(orderDetails)});if(response.ok){alert('Order placed successfully! We will contact you shortly. ðŸŽ‰');orderForm.reset();orderFormModal.classList.add('hidden')}else{const errorData=await response.json();console.error('Order submission failed:',response.status,errorData);alert(`Failed to place order: ${errorData.message || 'Server error'}`)}}catch(error){console.error('Network error during order submission:',error);alert('A network error occurred while placing your order. Please try again later.')}})}
if(detailOrderNowBtn){detailOrderNowBtn.addEventListener('click',()=>{if(currentProduct){openOrderForm(currentProduct)}else{alert('Product details not loaded. Cannot place order.')}})}})