document.addEventListener('DOMContentLoaded',()=>{const hamburger=document.querySelector('.hamburger');const navLinks=document.querySelector('.nav-links');if(hamburger&&navLinks){hamburger.addEventListener('click',()=>{navLinks.classList.toggle('active');if(navLinks.classList.contains('active')){hamburger.innerHTML='<i class="fas fa-times"></i>'}else{hamburger.innerHTML='<i class="fas fa-bars"></i>'}})}
const grid=document.getElementById('productGrid');const noResults=document.getElementById('noResultsMessage');if(noResults){noResults.style.display='none'}
const productModal=document.getElementById('productModal');const orderFormModal=document.getElementById('orderFormModal');const modalImage=document.getElementById('modalImage');const modalName=document.getElementById('modalName');const modalBrand=document.getElementById('modalBrand');const modalQuality=document.getElementById('modalQuality');const modalPrice=document.getElementById('modalPrice');const modalDescription=document.getElementById('modalDescription');const closeProductBtn=document.getElementById('closeProductModal');const orderProductName=document.getElementById('orderProductName');const orderProductBrand=document.getElementById('orderProductBrand');const orderProductPrice=document.getElementById('orderProductPrice');const orderProductImage=document.getElementById('orderProductImage');const hiddenProductName=document.getElementById('formProductName');const hiddenProductBrand=document.getElementById('formProductBrand');const hiddenProductPrice=document.getElementById('formProductPrice');const closeOrderBtn=document.getElementById('closeOrderForm');const brandFilter=document.getElementById('brandFilter');const sortFilter=document.getElementById('sortFilter');const allProducts=[{name:"OD Scent",brand:"Rahaaf",quality:"Eau de Parfum",price:3999.0,img:"/images/bron.jpeg",description:"A bold and intoxicating blend of warm spices and dark woods. Designed for the individual who commands attention.",category:"woody"},{name:"That's It",brand:"Rahaaf",quality:"Eau de Parfum",price:2999.0,img:"/images/blue (2).jpeg",description:"A crisp and refreshing aquatic scent with notes of sea salt and citrus. The final word in modern freshness.",category:"fresh"},{name:"Petrichor",brand:"Rahaaf",quality:"Eau de Parfum",price:2999.0,img:"/images/wisk.jpeg",description:"A green, earthy fragrance that captures the unique scent of rain on dry earth. A connection to nature.",category:"earthy"},{name:"Beliver",brand:"Rahaaf",quality:"Eau de Parfum",price:3999.0,img:"/images/bel (2).jpeg",description:"A sophisticated and empowering mix of rich leather, amber, and a hint of jasmine. For those who believe in themselves.",category:"Men"},{name:"Tester Box",brand:"Rahaaf",quality:"Discovery Set",price:1249.0,img:"/images/tester_box.png",description:"Explore the full Rahaaf collection. This discovery set includes four signature testers, perfect for finding your perfect scent.",category:"other"},{name:"Perfume Wax",brand:"Rahaaf",quality:"Solid Perfume",price:1449.0,img:"/images/image.png",description:"A modern twist on classic fragrance. This rich perfume wax for under arms and neck provides a subtle, long-lasting scent.",category:"Unisex"}];let currentProducts=[...allProducts];function renderProducts(productList){if(!grid)return;grid.innerHTML='';if(productList.length===0){if(noResults)noResults.style.display='block'}else{if(noResults)noResults.style.display='none';let delayCounter=0;productList.forEach(prod=>{const card=document.createElement('div');card.className='product-card';card.setAttribute('data-aos','fade-up');card.setAttribute('data-aos-delay',delayCounter);card.innerHTML=`
                    <img src="${prod.img}" alt="${prod.name}" />
                    <h3 class="product-name">${prod.name}</h3>
                    <p class="product-brand">by ${prod.brand}</p>
                    <p class="product-quality">${prod.quality}</p>
                    <div class="product-price">${prod.price.toFixed(2)}</div>
                    <button class="btn-product view-details" data-name="${prod.name}">View Details</button>
                    <button class="btn-product order-now-card-btn" data-name="${prod.name}">Order Now</button>
                `;grid.appendChild(card);delayCounter+=100})}}
function applyFiltersAndSort(){let filtered=[...allProducts];if(brandFilter&&brandFilter.value!=='All'){filtered=filtered.filter(prod=>prod.brand===brandFilter.value)}
if(sortFilter){const sortBy=sortFilter.value;if(sortBy==='price-asc'){filtered.sort((a,b)=>a.price-b.price)}else if(sortBy==='price-desc'){filtered.sort((a,b)=>b.price-a.price)}}
currentProducts=filtered;renderProducts(currentProducts)}
function openDetailsModal(product){if(!productModal)return;modalImage.src=product.img;modalName.textContent=product.name;modalBrand.textContent=`by ${product.brand}`;modalQuality.textContent=product.quality;modalPrice.textContent=`${product.price.toFixed(2)}`;modalDescription.textContent=product.description;productModal.classList.remove('hidden')}
function closeProductModal(){if(productModal)productModal.classList.add('hidden');}
function openOrderForm(product){if(!orderFormModal)return;orderProductName.textContent=product.name;orderProductBrand.textContent=`by ${product.brand}`;orderProductPrice.textContent=`${product.price.toFixed(2)}`;orderProductImage.src=product.img;hiddenProductName.value=product.name;hiddenProductBrand.value=product.brand;hiddenProductPrice.value=product.price.toFixed(2);orderFormModal.classList.remove('hidden')}
function closeOrderForm(){if(orderFormModal)orderFormModal.classList.add('hidden');}
if(brandFilter)brandFilter.addEventListener('change',applyFiltersAndSort);if(sortFilter)sortFilter.addEventListener('change',applyFiltersAndSort);if(grid){grid.addEventListener('click',(e)=>{const productName=e.target.getAttribute('data-name');if(!productName)return;const product=allProducts.find(p=>p.name===productName);if(!product)return;if(e.target.classList.contains('view-details')){openDetailsModal(product)}else if(e.target.classList.contains('order-now-card-btn')){openOrderForm(product)}})}
if(closeProductBtn)closeProductBtn.addEventListener('click',closeProductModal);if(closeOrderBtn)closeOrderBtn.addEventListener('click',closeOrderForm);const contactForm=document.getElementById('pro-contact-form');const formStatus=document.getElementById('form-status');if(contactForm){contactForm.addEventListener('submit',async(e)=>{e.preventDefault();const data=new FormData(e.target);const submitButton=contactForm.querySelector('button[type="submit"]');submitButton.innerText='Sending...';submitButton.disabled=!0;try{const response=await fetch('https://formspree.io/f/xwpwkeya',{method:'POST',body:data,headers:{'Accept':'application/json'}});if(response.ok){formStatus.innerText='Thank you! Your message has been sent.';formStatus.className='form-status-message success';contactForm.reset()}else{formStatus.innerText='Oops! Something went wrong. Please try again.';formStatus.className='form-status-message error'}}catch(error){formStatus.innerText='Oops! Could not send message. Please check your connection.';formStatus.className='form-status-message error'}
submitButton.innerText='Send Message';submitButton.disabled=!1})}
const counters=document.querySelectorAll('.counter');const speed=200;if(counters.length>0){const animateCounters=()=>{counters.forEach(counter=>{const updateCount=()=>{const target=+counter.getAttribute('data-target');const count=+counter.innerText;const inc=target/speed;if(count<target){counter.innerText=Math.ceil(count+inc);setTimeout(updateCount,10)}else{counter.innerText=target.toLocaleString()+'+'}};const observer=new IntersectionObserver((entries)=>{if(entries[0].isIntersecting){updateCount();observer.disconnect()}},{threshold:0.5});observer.observe(counter)})};animateCounters()}
if(brandFilter){brandFilter.value='All'}
if(sortFilter){sortFilter.value='default'}
applyFiltersAndSort();if(typeof AOS!=='undefined'){AOS.init({duration:800,once:!0})}})
